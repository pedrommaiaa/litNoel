---
import { companyData } from '../data/company';

const NAV_SECTIONS = [
  { id: 'about', label: 'About' },
  { id: 'services', label: 'Services' },
  { id: 'service-areas', label: 'Areas' },
  { id: 'contact', label: 'Contact' },
];

const mainServices = companyData.services.slice(0, 6); // Show top 6 services in dropdown
---

<header class="bg-white shadow-lg fixed top-0 left-0 w-full z-50 lg:relative lg:top-auto lg:left-auto">
  <div class="container-max">
    <div class="flex items-center justify-between py-4">
      <!-- Logo -->
      <div class="flex items-center">
        <a href="/" class="flex items-center">
          <picture>
            <source srcset="/logo-icon-with-name.webp" type="image/webp">
            <img 
              src="/logo-icon-with-name.webp" 
              alt="{companyData.name} Logo" 
              class="h-12 w-auto" 
              style="max-width: 240px;"
              width="240"
              height="48"
            />
          </picture>
        </a>
      </div>

      <!-- Desktop Navigation -->
      <nav class="hidden lg:flex items-center space-x-8">
        <a href="#services" class="text-gray-700 hover:text-primary-600 font-medium transition-colors">Services</a>
        <a href="#service-areas" class="text-gray-700 hover:text-primary-600 font-medium transition-colors">Areas</a>
        <a href="#contact" class="text-gray-700 hover:text-primary-600 font-medium transition-colors">Contact</a>
      </nav>

      <!-- Desktop CTA Buttons -->
      <div class="hidden lg:flex items-center space-x-4">
        <a
          href={`tel:${companyData.phone}`}
          class="flex items-center text-primary-600 hover:text-primary-800 font-semibold transition-colors"
        >
          {companyData.phoneFormatted}
        </a>
        <a
          href="#contact"
          class="btn-primary px-6 py-2"
        >
          ðŸŽ„ Free Consultation
        </a>
      </div>

      <!-- Mobile Call Button & Menu Button -->
      <div class="flex items-center lg:hidden space-x-2">
        <a
          href={`tel:${companyData.phone}`}
          class="flex items-center text-primary-600 font-semibold px-3 py-2 rounded-lg hover:bg-primary-50 transition-colors"
          style="font-size: 1.1rem;"
        >
          <span class="mr-1" aria-hidden="true">ðŸ“ž</span>
          <span class="sr-only">Call</span>
        </a>
        <button
          class="flex items-center justify-center w-10 h-10 rounded-lg hover:bg-gray-100 transition-colors"
          id="mobile-menu-button"
          aria-label="Toggle menu"
        >
          <span class="text-2xl" id="menu-icon">â˜°</span>
        </button>
      </div>
    </div>
  </div>

  <!-- Mobile Menu -->
  <div class="lg:hidden hidden bg-white border-t border-gray-200" id="mobile-menu">
    <div class="container-max py-4">
      <nav class="space-y-4 text-center">
        <a href="#services" class="block text-gray-700 hover:text-primary-600 font-medium py-2 transition-colors">Services</a>
        <a href="#service-areas" class="block text-gray-700 hover:text-primary-600 font-medium py-2 transition-colors">Areas</a>
        <a href="#contact" class="block text-gray-700 hover:text-primary-600 font-medium py-2 transition-colors">Contact</a>
        <div class="text-center">
          <a
            href={`tel:${companyData.phone}`}
            class="inline-flex items-center text-primary-600 font-semibold mb-4 justify-center"
          >
            Call Now: {companyData.phoneFormatted}
          </a>
        </div>
        <div class="text-center">
          <a
            href="#contact"
            class="btn-primary w-full text-center"
          >
            ðŸŽ„ Get Free Consultation
          </a>
        </div>
      </nav>
    </div>
  </div>
</header>

<script>
  // Mobile menu toggle
  const menuButton = document.getElementById('mobile-menu-button');
  const mobileMenu = document.getElementById('mobile-menu');
  const menuIcon = document.getElementById('menu-icon');
  
  menuButton?.addEventListener('click', () => {
    if (mobileMenu?.classList.contains('hidden')) {
      mobileMenu.classList.remove('hidden');
    } else {
      mobileMenu?.classList.add('hidden');
    }
  });

  // Close mobile menu when clicking on nav links
  const mobileNavLinks = mobileMenu?.querySelectorAll('a');
  mobileNavLinks?.forEach(link => {
    link.addEventListener('click', () => {
      mobileMenu?.classList.add('hidden');
    });
  });
</script> 