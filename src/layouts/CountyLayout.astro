---
import Layout from '../layouts/Layout.astro';
import SiteHeader from '../components/SiteHeader.astro';
import Problems from '../components/Problems.astro';
import SiteFooter from '../components/SiteFooter.astro';
import HeroDynamic from '../components/HeroDynamic.astro';
import ServiceBullets from '../components/ServiceBullets.astro';
import HowItWorks from '../components/HowItWorks.astro';
import FAQAccordion from '../components/FAQAccordion.astro';
import ContactSchedule from '../components/ContactSchedule.astro';
import AreasStrip from '../components/AreasStrip.astro';
import { makeCountyTitle, makeCountyDesc, countyIntro, countyLocalCopy } from '../data/seo';
import type { CountyInfo } from '../data/geo';

export interface Props { county: CountyInfo }
const { county } = Astro.props;

const title = makeCountyTitle(county.name);
const description = makeCountyDesc(county.name);
---

<Layout title={title} description={description} ogTitle={title} ogDescription={description}>
  <script type="application/ld+json" set:html={JSON.stringify({
    '@context': 'https://schema.org',
    '@type': 'BreadcrumbList',
    itemListElement: [
      { '@type': 'ListItem', position: 1, name: 'Home', item: 'https://litnoel.com/' },
      { '@type': 'ListItem', position: 2, name: 'Service Areas', item: 'https://litnoel.com/#areas' },
      { '@type': 'ListItem', position: 3, name: county.name }
    ]
  })} />
  <script type="application/ld+json" set:html={JSON.stringify({
    '@context': 'https://schema.org', '@type': 'Service',
    name: `Christmas Light Installation in ${county.name}`,
    areaServed: { '@type': 'AdministrativeArea', name: county.name },
    provider: { '@type': 'LocalBusiness', name: 'Lit Noel' }
  })} />
  <SiteHeader />
  
  <HeroDynamic title={`Christmas Light Installation in ${county.name}, GA`} subhead={countyIntro(county.name)} />

  <!-- Visual example for county (premium entrance or roofline) -->
  <section class="py-8 bg-white">
    <div class="container mx-auto px-4">
      <picture>
        <source srcset="/photos/photo-1-800.webp 800w, /photos/photo-1-1200.webp 1200w, /photos/photo-1-1600.webp 1600w, /photos/photo-1-2000.webp 2000w" type="image/webp" />
        <img src="/photos/photo-1-1200.webp" alt={`Holiday wreath and garland lighting on gated entrance in ${county.name}`} class="w-full h-72 object-cover rounded-lg shadow" loading="lazy" width="1200" height="800" />
      </picture>
    </div>
  </section>

  <!-- County Local Copy Block -->
  <section class="py-12 bg-gray-50">
    <div class="container mx-auto px-4">
      <div class="max-w-3xl mx-auto text-gray-800 leading-relaxed text-lg">
        {countyLocalCopy(county).split('\n').map((para) => (<p class="mb-4">{para}</p>))}
        <p class="mb-2">Explore cities we serve in {county.name}:</p>
        <ul class="list-disc ml-5">
          {county.cities.slice(0, 6).map((c) => (
            <li><a class="text-red-700 hover:text-red-800 underline" href={`/christmas-light-installation-${c.slugCity}-ga/`}>{c.name} Christmas Light Installation</a></li>
          ))}
        </ul>
      </div>
    </div>
  </section>

  <!-- Cities We Serve in County -->
  <section class="py-16 bg-white">
    <div class="container mx-auto px-4">
      <h2 class="text-3xl md:text-4xl font-bold text-center mb-6 text-gray-900">Cities We Serve in {county.name}</h2>
      <div class="grid sm:grid-cols-2 md:grid-cols-3 gap-4 max-w-4xl mx-auto">
        {county.cities.map((city) => (
          <a href={`/christmas-light-installation-${city.slugCity}-ga/`} class="block bg-gray-50 hover:bg-gray-100 p-4 rounded-lg text-center font-semibold text-gray-900 transition">
            {city.name}
          </a>
        ))}
      </div>
    </div>
  </section>

  <Problems />
  <ServiceBullets />
  <HowItWorks />
  <AreasStrip />
  <FAQAccordion />
  <ContactSchedule />
  <SiteFooter />
</Layout>


